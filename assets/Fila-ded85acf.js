import{r as d,L as F,K as N,j as r,B as b}from"./index-c52a1109.js";import{c as w}from"./index.esm-5af871a5.js";import{F as y}from"./Form-ee3cd23b.js";function Y({id:n,currency:a,count:x,image:f,name:c,unitCost:i}){const[s,u]=d.useState(x),{user:o,setUsers:m}=d.useContext(F),{setCantidadCosto:h,setCantidadCostoUSD:C}=d.useContext(N);d.useEffect(()=>{m(t=>{const e=structuredClone(t[o].carrito),l=e.findIndex(g=>g.id===n);return e[l].count=s,{...t,[o]:{...t[o],carrito:e}}}),h(t=>a==="USD"?t:{...t,[n]:[i,s]}),C(t=>a==="UYU"?t:{...t,[n]:[i,s]})},[s]);function j(t){u(t.target.value)}function U(){m(t=>{let e=structuredClone(t[o].carrito);return e=e.filter(l=>l.id!==n),{...t,[o]:{...t[o],carrito:e}}}),u(0)}return r.jsxs("tr",{children:[r.jsx("td",{style:{width:"10%"},children:r.jsx("img",{src:f,alt:c})}),r.jsx("td",{children:c}),r.jsx("td",{className:"number",children:new Intl.NumberFormat("es-UY",{style:"currency",currency:a}).format(i)}),r.jsx("td",{style:{width:"10%"},children:r.jsx(y.Control,{type:"number",name:`cantidad_${c}_${n}`,id:`cantidad_${n}`,required:!0,value:s,onChange:j,min:1})}),r.jsx("td",{className:"number",children:new Intl.NumberFormat("es-UY",{style:"currency",currency:a}).format(s*i)}),r.jsx("td",{style:{width:"10%"},children:r.jsx(b,{variant:"outline-danger",onClick:U,children:r.jsx(w,{})})})]})}export{Y as default};
